import React from"react";export default class InputFilter extends React.Component{constructor(t){super(t),this.onChange=this.onChange.bind(this),this.input=React.createRef()}componentDidMount(){this.filter()}onChange(){this.filter()}filter(){const t=this.input.current,e=t.value.toLowerCase().split(" "),s=e.length,n=0!==s;let r=0,o=null,i=null,l=document.querySelectorAll(this.props["filter-selector"]);if(1===l.length&&"TABLE"===l[0].tagName&&l[0].tHead&&1===l[0].tHead.rows.length&&1===l[0].tBodies.length){const t=l[0];o=t.getAttribute("data-sort-class-odd"),i=t.getAttribute("data-sort-class-even"),l=l[0].tBodies[0].rows}const a=l.length,c=i&&o;for(let t=0,a=l.length;t<a;t++){const a=l[t];let u=!0;if(n){const t=a.textContent.toLowerCase();for(let n=0;n<s;n++)if(""!==e[n]&&!t.includes(e[n])){u=!1;break}}u&&(r++,c&&(r%2==0?(a.classList.add(i),a.classList.remove(o)):(a.classList.add(o),a.classList.remove(i)))),a.style.display=u?"":"none"}const u=t.getAttribute("filter-results-selector");if(u){const e=document.querySelector(u);if(!e)return void console.warn("Defined [filter-results-selector] but element not found");const s=t.getAttribute("filter-results-text-all"),n=t.getAttribute("filter-results-text-filtered");if(!s)return void console.warn("Defined [filter-results-selector] without [filter-results-text-all]");if(!n)return void console.warn("Defined [filter-results-selector] without [filter-results-text-filtered]");let o;o=(o=r===a?s:n.replace(/{displayCount}/g,r)).replace(/{totalCount}/g,a),e.textContent=o}}render(){return void 0!==window&&window.React===window.preact?React.createElement("input",Object.assign({},this.props,{onInput:this.onChange,ref:this.input})):React.createElement("input",Object.assign({},this.props,{onChange:this.onChange,ref:this.input}))}};